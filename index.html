<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Hotel Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header con navigazione -->
    <header>
        <h1>Family Hotel Manager</h1>
        <p>Sistema completo per gestione preventivi family hotel</p>
        <nav>
            <button id="navDashboard" class="nav-btn active">üìä Dashboard</button>
            <button id="navAdd" class="nav-btn">‚ûï Aggiungi</button>
            <button id="navImportUrl" class="nav-btn">üîó Import URL</button>
        </nav>
    </header>

    <main>
        <!-- SEZIONE DASHBOARD -->
        <section id="section-dashboard" class="section active">
            <h2>Dashboard Preventivi</h2>
            <div class="stats">
                <div class="stat-card">
                    <h3>Preventivi</h3>
                    <p id="statsTotal">0</p>
                </div>
                <div class="stat-card">
                    <h3>Prezzo Medio</h3>
                    <p id="statsAvg">‚Ç¨0</p>
                </div>
                <div class="stat-card">
                    <h3>Migliore</h3>
                    <p id="statsBest">-</p>
                </div>
            </div>
            
            <div class="table-container">
                <table class="dashboard-table">
                    <thead>
                        <tr>
                            <th>Hotel</th>
                            <th>Prezzo</th>
                            <th>Periodo</th>
                            <th>Valutazione</th>
                            <th>Azioni</th>
                        </tr>
                    </thead>
                    <tbody id="dashboardBody">
                        <!-- Righe generate dinamicamente -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- SEZIONE AGGIUNGI/MODIFICA -->
        <section id="section-add" class="section">
            <h2 id="formTitle">Aggiungi Nuovo Preventivo</h2>
            
            <form id="quoteForm" class="quote-form">
                <input type="hidden" id="editId" value="">
                
                <div class="form-group">
                    <label for="hotel">Nome Hotel *</label>
                    <input type="text" id="hotel" required placeholder="Es: Family Resort Marina">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="prezzo">Prezzo Totale (‚Ç¨) *</label>
                        <input type="number" id="prezzo" step="0.01" min="0" required placeholder="1500.00">
                    </div>
                    <div class="form-group">
                        <label for="checkIn">Check-in *</label>
                        <input type="date" id="checkIn" required>
                    </div>
                    <div class="form-group">
                        <label for="checkOut">Check-out *</label>
                        <input type="date" id="checkOut" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="adulti">Adulti</label>
                        <input type="number" id="adulti" min="1" max="10" value="2">
                    </div>
                    <div class="form-group">
                        <label for="bambini">Bambini</label>
                        <input type="number" id="bambini" min="0" max="10" value="2">
                    </div>
                </div>
                
                <fieldset>
                    <legend>Servizi Hotel</legend>
                    <div id="servizi-container" class="services-grid">
                        <!-- Servizi Alta Priorit√† -->
                        <h4>Servizi per Famiglie (peso alto)</h4>
                        <label><input type="checkbox" name="piscinaBambini"> Piscina per bambini</label>
                        <label><input type="checkbox" name="miniclub"> Mini club</label>
                        <label><input type="checkbox" name="animazione"> Animazione</label>
                        <label><input type="checkbox" name="spiaggiaPrivata"> Spiaggia privata</label>
                        <label><input type="checkbox" name="ristoranteBambini"> Ristorante bambini</label>
                        <label><input type="checkbox" name="parcoBambini"> Parco giochi</label>
                        <label><input type="checkbox" name="babySitting"> Baby sitting</label>
                        <label><input type="checkbox" name="escursioniFamiglia"> Escursioni famiglia</label>
                        <label><input type="checkbox" name="wifiGratuito"> WiFi gratuito</label>
                        <label><input type="checkbox" name="parcheggioGratuito"> Parcheggio gratuito</label>
                        <label><input type="checkbox" name="piscinaInterna"> Piscina interna</label>
                        <label><input type="checkbox" name="spaTrattamenti"> Spa e trattamenti</label>
                        
                        <!-- Servizi Media Priorit√† -->
                        <h4>Servizi Aggiuntivi (peso medio)</h4>
                        <label><input type="checkbox" name="aeroportoShuttle"> Navetta aeroporto</label>
                        <label><input type="checkbox" name="pet"> Ammessi animali</label>
                        <label><input type="checkbox" name="culle"> Culle disponibili</label>
                        <label><input type="checkbox" name="camereFamiliari"> Camere familiari</label>
                        <label><input type="checkbox" name="allInclusive"> All inclusive</label>
                        <label><input type="checkbox" name="beachClub"> Beach club</label>
                        <label><input type="checkbox" name="sportAcquatici"> Sport acquatici</label>
                        <label><input type="checkbox" name="pianoBar"> Piano bar</label>
                        <label><input type="checkbox" name="intrattenimentoSerale"> Intrattenimento serale</label>
                        <label><input type="checkbox" name="palestra"> Palestra</label>
                        <label><input type="checkbox" name="bikeRental"> Noleggio bici</label>
                        <label><input type="checkbox" name="escursioni"> Escursioni</label>
                        
                        <!-- Servizi Base -->
                        <h4>Servizi Base</h4>
                        <label><input type="checkbox" name="ristorante"> Ristorante</label>
                        <label><input type="checkbox" name="bar"> Bar</label>
                    </div>
                </fieldset>
                
                <div class="form-actions">
                    <button type="submit" id="submitBtn" class="btn btn-primary">Aggiungi preventivo</button>
                    <button type="button" id="cancelEditBtn" class="btn btn-secondary" style="display: none;">Annulla modifica</button>
                </div>
            </form>
        </section>

        <!-- SEZIONE IMPORT URL -->
        <section id="section-import-url" class="section">
            <h2>Importa da URL</h2>
            <p>üí° Inserisci il link del preventivo per estrarre automaticamente i dati.</p>
            
            <div class="import-container">
                <div class="form-group">
                    <label for="importUrlInput">URL Preventivo</label>
                    <input type="url" id="importUrlInput" placeholder="https://esempio.com/preventivo/123" class="url-input">
                </div>
                
                <button id="importUrlBtn" class="btn btn-primary">üîç Estrai Dati</button>
                
                <div class="import-info">
                    <h3>Come funziona:</h3>
                    <ul>
                        <li>Incolla l'URL del preventivo hotel</li>
                        <li>Il sistema estrae automaticamente nome hotel, prezzo, date</li>
                        <li>I dati vengono pre-compilati nel form</li>
                        <li>Puoi modificare i dati prima di salvare</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Modal Conferma Eliminazione -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <h3>Conferma Eliminazione</h3>
            <p>Sei sicuro di voler eliminare questo preventivo?</p>
            <p class="warning">‚ö†Ô∏è Questa operazione non pu√≤ essere annullata.</p>
            <div class="modal-actions">
                <button id="confirmDelete" class="btn btn-danger">Elimina</button>
                <button id="cancelDelete" class="btn btn-secondary">Annulla</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
